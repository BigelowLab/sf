<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write simple features object to file or database — st_write • sf</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write simple features object to file or database — st_write" />
<meta property="og:description" content="Write simple features object to file or database" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sf1.html">1. Simple Features for R</a>
    </li>
    <li>
      <a href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a>
    </li>
    <li>
      <a href="../articles/sf4.html">4. Manipulating Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf5.html">5. Plotting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf6.html">6. Miscellaneous</a>
    </li>
    <li>
      <a href="../articles/sf7.html">7. Spherical geometry in sf using s2geometry</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-spatial/sf/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write simple features object to file or database</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-spatial/sf/blob/master/R/read.R'><code>R/read.R</code></a></small>
    <div class="hidden name"><code>st_write.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write simple features object to file or database</p>
    </div>

    <pre class="usage"><span class='fu'>st_write</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>dsn</span>, <span class='va'>layer</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for sfc</span>
<span class='fu'>st_write</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>dsn</span>, <span class='va'>layer</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for sf</span>
<span class='fu'>st_write</span><span class='op'>(</span>
  <span class='va'>obj</span>,
  <span class='va'>dsn</span>,
  layer <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>,
  driver <span class='op'>=</span> <span class='fu'>guess_driver_can_write</span><span class='op'>(</span><span class='va'>dsn</span><span class='op'>)</span>,
  dataset_options <span class='op'>=</span> <span class='cn'>NULL</span>,
  layer_options <span class='op'>=</span> <span class='cn'>NULL</span>,
  quiet <span class='op'>=</span> <span class='cn'>FALSE</span>,
  factorsAsCharacter <span class='op'>=</span> <span class='cn'>TRUE</span>,
  append <span class='op'>=</span> <span class='cn'>NA</span>,
  delete_dsn <span class='op'>=</span> <span class='cn'>FALSE</span>,
  delete_layer <span class='op'>=</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>append</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='va'>append</span>,
  fid_column_name <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>st_write</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>dsn</span>, layer <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>write_sf</span><span class='op'>(</span><span class='va'>...</span>, quiet <span class='op'>=</span> <span class='cn'>TRUE</span>, append <span class='op'>=</span> <span class='cn'>FALSE</span>, delete_layer <span class='op'>=</span> <span class='op'>!</span><span class='va'>append</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>object of class <code>sf</code> or <code>sfc</code></p></td>
    </tr>
    <tr>
      <th>dsn</th>
      <td><p>data source name. Interpretation varies by driver: can be
a filename, a folder, a database name, or a Database Connection
(we officially test support for
<code><a href='https://rpostgres.r-dbi.org/reference/Postgres.html'>RPostgres::Postgres()</a></code> connections).</p></td>
    </tr>
    <tr>
      <th>layer</th>
      <td><p>layer name. Varies by driver, may be a file name without
extension; for database connection, it is the name of the table. If layer
is missing, the <code>basename</code> of <code>dsn</code> is taken.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments passed to dbWriteTable when <code>dsn</code> is a
Database Connection</p></td>
    </tr>
    <tr>
      <th>driver</th>
      <td><p>character; name of driver to be used; if missing and <code>dsn</code> is not a Database Connection, a driver name is guessed from <code>dsn</code>;
<code><a href='st_drivers.html'>st_drivers()</a></code> returns the drivers that are available with their properties; links to full driver documentation
are found at <a href='https://gdal.org/ogr_formats.html'>https://gdal.org/ogr_formats.html</a>.</p></td>
    </tr>
    <tr>
      <th>dataset_options</th>
      <td><p>character; driver dependent dataset creation options;
multiple options supported.</p></td>
    </tr>
    <tr>
      <th>layer_options</th>
      <td><p>character; driver dependent layer creation options;
multiple options supported.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>logical; suppress info on name, driver, size and spatial
reference</p></td>
    </tr>
    <tr>
      <th>factorsAsCharacter</th>
      <td><p>logical; convert <code>factor</code> levels to character
strings (<code>TRUE</code>, default), otherwise into numbers when
factorsAsCharacter is <code>FALSE</code>. For database connections,
<code>factorsAsCharacter</code> is always <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>append</th>
      <td><p>logical; should we append to an existing layer, or replace it?
if <code>TRUE</code> append, if <code>FALSE</code> replace.
The default for <code>st_write</code> is <code>NA</code> which raises an error if the layer exists.
The default for <code>write_sf</code> is <code>FALSE</code>, which overwrites any existing data.
See also next two arguments for more control on overwrite behavior.</p></td>
    </tr>
    <tr>
      <th>delete_dsn</th>
      <td><p>logical; delete data source <code>dsn</code> before attempting
to write?</p></td>
    </tr>
    <tr>
      <th>delete_layer</th>
      <td><p>logical; delete layer <code>layer</code> before attempting to
write?
The default for <code>st_write</code> is <code>FALSE</code> which raises an error if the layer exists.
The default for <code>write_sf</code> is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>fid_column_name</th>
      <td><p>character, name of column with feature IDs; if
specified, this column is no longer written as feature attribute.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>obj</code>, invisibly</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Columns (variables) of a class not supported are dropped with a warning.</p>
<p>When updating an existing layer, records are appended to it if the updating
object has the right variable names and types. If names don't match an
error is raised. If types don't match, behaviour is undefined: GDAL may
raise warnings or errors or fail silently.</p>
<p>When deleting layers or data sources is not successful, no error is emitted.
<code>delete_dsn</code> and <code>delete_layer</code> should be
handled with care; the former may erase complete directories or databases.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='st_drivers.html'>st_drivers</a>, dbWriteTable</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>nc</span> <span class='op'>=</span> <span class='fu'><a href='st_read.html'>st_read</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"shape/nc.shp"</span>, package<span class='op'>=</span><span class='st'>"sf"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Reading layer `nc' from data source `/tmp/Rtmp3X2BG2/temp_libpath53946d61e50/sf/shape/nc.shp' using driver `ESRI Shapefile'
#&gt; Simple feature collection with 100 features and 14 fields
#&gt; geometry type:  MULTIPOLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
#&gt; geographic CRS: NAD27</div><div class='input'><span class='fu'>st_write</span><span class='op'>(</span><span class='va'>nc</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"/"</span>, <span class='st'>"nc.shp"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Writing layer `nc' to data source `/tmp/RtmpsED8K6/nc.shp' using driver `ESRI Shapefile'
#&gt; Writing 100 features with 14 fields and geometry type Multi Polygon.</div><div class='input'><span class='fu'>st_write</span><span class='op'>(</span><span class='va'>nc</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"/"</span>, <span class='st'>"nc.shp"</span><span class='op'>)</span>, delete_layer <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># overwrites</span>
</div><div class='output co'>#&gt; Deleting layer `nc' using driver `ESRI Shapefile'
#&gt; Writing layer `nc' to data source `/tmp/RtmpsED8K6/nc.shp' using driver `ESRI Shapefile'
#&gt; Writing 100 features with 14 fields and geometry type Multi Polygon.</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>meuse</span>, package <span class='op'>=</span> <span class='st'>"sp"</span><span class='op'>)</span> <span class='co'># loads data.frame from sp</span>
<span class='va'>meuse_sf</span> <span class='op'>=</span> <span class='fu'><a href='st_as_sf.html'>st_as_sf</a></span><span class='op'>(</span><span class='va'>meuse</span>, coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"x"</span>, <span class='st'>"y"</span><span class='op'>)</span>, crs <span class='op'>=</span> <span class='fl'>28992</span><span class='op'>)</span>
<span class='co'># writes X and Y as columns:</span>
<span class='fu'>st_write</span><span class='op'>(</span><span class='va'>meuse_sf</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"/"</span>, <span class='st'>"meuse.csv"</span><span class='op'>)</span>, layer_options <span class='op'>=</span> <span class='st'>"GEOMETRY=AS_XY"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Writing layer `meuse' to data source `/tmp/RtmpsED8K6/meuse.csv' using driver `CSV'
#&gt; options:        GEOMETRY=AS_XY 
#&gt; Writing 155 features with 12 fields and geometry type Point.</div><div class='input'><span class='fu'>st_write</span><span class='op'>(</span><span class='va'>meuse_sf</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"/"</span>, <span class='st'>"meuse.csv"</span><span class='op'>)</span>, layer_options <span class='op'>=</span> <span class='st'>"GEOMETRY=AS_WKT"</span>,
  delete_dsn<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># overwrites</span>
</div><div class='output co'>#&gt; Deleting source `/tmp/RtmpsED8K6/meuse.csv' using driver `CSV'
#&gt; Writing layer `meuse' to data source `/tmp/RtmpsED8K6/meuse.csv' using driver `CSV'
#&gt; options:        GEOMETRY=AS_WKT 
#&gt; Writing 155 features with 12 fields and geometry type Point.</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
 <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/edzer/sp/'>sp</a></span><span class='op'>)</span>
 <span class='fu'><a href='https://rdrr.io/r/utils/example.html'>example</a></span><span class='op'>(</span><span class='va'>meuse</span>, ask <span class='op'>=</span> <span class='cn'>FALSE</span>, echo <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
 <span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'>st_write</span><span class='op'>(</span><span class='fu'><a href='st_as_sf.html'>st_as_sf</a></span><span class='op'>(</span><span class='va'>meuse</span><span class='op'>)</span>, <span class='st'>"PG:dbname=postgis"</span>, <span class='st'>"meuse_sf"</span>,
     layer_options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"OVERWRITE=yes"</span>, <span class='st'>"LAUNDER=true"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
 <span class='fu'><a href='https://rdrr.io/r/utils/demo.html'>demo</a></span><span class='op'>(</span><span class='va'>nc</span>, ask <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
 <span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'>st_write</span><span class='op'>(</span><span class='va'>nc</span>, <span class='st'>"PG:dbname=postgis"</span>, <span class='st'>"sids"</span>, layer_options <span class='op'>=</span> <span class='st'>"OVERWRITE=true"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


